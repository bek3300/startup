{% extends "./base.html" %}
{% load static %}

{% block body %}
{% include './navbar.html' %}
 <section class="dashboard">
    <div class="top">
       <i class="uil uil-bars sidebar-toggle"></i>
       <div class="search-box">
          <i class="uil uil-search"></i>
          <input type="text" placeholder="Search here...">
       </div>
       <img src="{{profile_type.profile_pic.url }}" alt="">
    </div>

    <main class="col-md-9 ml-sm-auto col-lg-10 px-md-4 py-4">
        <div class="card col-md-12 ml-sm-auto col-lg-12">
          <h6>Startups</h6>
          {% if startups %}
          
          <div
            id="startupSlider"
            class="carousel "
            data-ride="carousel"
          >
            <div class="carousel-inner">
              
              {% for i in startups %}
              
              <div class="carousel-item {% if forloop.counter == 1   %} active {% endif%}">
                <div class="cards-wrapper">
                  <div class="card  ">
                      <div class="img">
                          <img style="border-radius: 50%;width: 60px;height: 60px;" src="{% static './logo.png' %}"  alt="..." />
  
                      </div>
                    <div class="card-body">
                      <h5 class="card-title">{{i.startupName}}</h5>
                      <p class="card-text">
                     {{i.description |truncatechars:100 }}
                      </p>
                      <button class="btn btn-primary">Detail</button>
                      <button class="btn btn-primary">Connect</button>
                    </div>
                  </div>
                 
                </div>
              </div>
              {% endfor %}
            </div>
            <a
              class="carousel-control-prev"
              href="#startupSlider"
              role="button"
              data-slide="prev"
            >
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a
              class="carousel-control-next"
              href="#startupSlider"
              role="button"
              data-slide="next"
            >
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
          {% else %}
          <h3>No Active Startups</h3>
          {% endif %}
        </div>
        <div class="card col-md-12 ml-sm-auto col-lg-12">
          <h6>Mentors</h6>
          {% if startups %}
         
          <div
            id="mentorSlider"
            class="carousel "
            data-ride="carousel"
          >
            <div class="carousel-inner">
              {% for i in mentors %}
              
              <div class="carousel-item {% if forloop.counter == 1   %} active {% endif%}">
                <div class="cards-wrapper">
                  <div class="card  ">
                      <div class="img">
                          <img style="border-radius: 50%;width: 60px;height: 60px;" src="{% static './logo.png' %}"  alt="..." />
  
                      </div>
                    <div class="card-body">
                      <h5 class="card-title">{{i.startupName}}</h5>
                      <p class="card-text">
                     {{i.description |truncatechars:100 }}
                      </p>
                      <button class="btn btn-primary">Detail</button>
                      <button class="btn btn-primary">Connect</button>
                    </div>
                  </div>
                 
                </div>
              </div>
              {% endfor %}
            </div>
            <a
              class="carousel-control-prev"
              href="#mentorSlider"
              role="button"
              data-slide="prev"
            >
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a
              class="carousel-control-next"
              href="#mentorSlider"
              role="button"
              data-slide="next"
            >
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
          {% else %}
          <h3>No Active Mentors</h3>
          {% endif %}
        </div>
        <div class="card col-md-12 ml-sm-auto col-lg-12">
          <h6>Incubators/Acclerators/Hub</h6>
          {% if iah %}
         
          <div
            id="mentorSlider"
            class="carousel "
            data-ride="carousel"
          >
            <div class="carousel-inner">
              {% for i in iah %}
              
              <div class="carousel-item {% if forloop.counter == 1   %} active {% endif%}">
                <div class="cards-wrapper">
                  <div class="card  ">
                      <div class="img">
                          <img style="border-radius: 50%;width: 60px;height: 60px;" src="{% static './logo.png' %}"  alt="..." />
  
                      </div>
                    <div class="card-body">
                      <h5 class="card-title">{{i.startupName}}</h5>
                      <p class="card-text">
                     {{i.description |truncatechars:100 }}
                      </p>
                      <button class="btn btn-primary">Detail</button>
                      <button class="btn btn-primary">Connect</button>
                    </div>
                  </div>
                 
                </div>
              </div>
              {% endfor %}
            </div>
            <a
              class="carousel-control-prev"
              href="#mentorSlider"
              role="button"
              data-slide="prev"
            >
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a
              class="carousel-control-next"
              href="#mentorSlider"
              role="button"
              data-slide="next"
            >
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
          {% else %}
          <h3>No Active Incubators or Acclerators or Hub Mentors</h3>
          {% endif %}
        </div>
        <div class="card col-md-12 ml-sm-auto col-lg-12">
          <h6>Donor/Funder</h6>
          {% if df %}
          <div
            id="gover"
            class="carousel "
            data-ride="carousel"
          >
            <div class="carousel-inner">
              {% for i in df %}
              
              <div class="carousel-item {% if forloop.counter == 1   %} active {% endif%}">
                <div class="cards-wrapper">
                  <div class="card  ">
                      <div class="img">
                          <img style="border-radius: 50%;width: 60px;height: 60px;" src="{% static './logo.png' %}"  alt="..." />
  
                      </div>
                    <div class="card-body">
                      <h5 class="card-title">{{i.startupName}}</h5>
                      <p class="card-text">
                     {{i.description |truncatechars:100 }}
                      </p>
                      <a href="#" class="btn btn-primary">Detail</a>
                      <button href="{% url 'main:connect' %}" class="btn btn-primary">Connect</button>
                    </div>
                  </div>
                 
                </div>
              </div>
              {% endfor %}
            </div>
            <a
              class="carousel-control-prev"
              href="#dfSlider"
              role="button"
              data-slide="prev"
            >
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a
              class="carousel-control-next"
              href="#dfSlider"
              role="button"
              data-slide="next"
            >
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
          {% else %}
          <h3>No Active Donor or Funder</h3>
          {% endif %}
        </div>
        <div class="card col-md-12 ml-sm-auto col-lg-12">
          <h6>Government</h6>
          {% if government %}
          <div
            id="governmentSlider"
            class="carousel "
            data-ride="carousel"
          >
            <div class="carousel-inner">
              {% for i in government %}
              
              <div class="carousel-item {% if forloop.counter == 1   %} active {% endif%}">
                <div class="cards-wrapper">
                  <div class="card  ">
                      <div class="img">
                          <img style="border-radius: 50%;width: 60px;height: 60px;" src="{% static './logo.png' %}"  alt="..." />
  
                      </div>
                    <div class="card-body">
                      <h5 class="card-title">{{i.startupName}}</h5>
                      <p class="card-text">
                     {{i.description |truncatechars:100 }}
                      </p>
                      <button class="btn btn-primary">Detail</button>
                      <button class="btn btn-primary">Connect</button>
                    </div>
                  </div>
                 
                </div>
              </div>
              {% endfor %}
            </div>
            <a
              class="carousel-control-prev"
              href="#governmentSlider"
              role="button"
              data-slide="prev"
            >
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a
              class="carousel-control-next"
              href="#governmentSlider"
              role="button"
              data-slide="next"
            >
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
          {% else %}
          <h3>No Active Government</h3>
          {% endif %}
        </div>
      </main>
      <script
  src="https://code.jquery.com/jquery-3.6.4.js"
  integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E="
  crossorigin="anonymous"></script>

      <script>
        var carouselWidth = $('.carousel-inner')[0].scrollWidth
        var cardWidth = $('.carousel-item').width()
        var scrollPosition = 0
        $('.carousel-control-next').on('click', function() {
          if (scrollPosition < carouselWidth - cardWidth * 4) {
            //check if you can go any further
            scrollPosition += cardWidth //update scroll position
            $('.carousel-inner').animate({ scrollLeft: scrollPosition }, 600) //scroll left
          }
        })
        $('.carousel-control-prev').on('click', function() {
          if (scrollPosition > 0) {
            scrollPosition -= cardWidth
            $('.carousel-inner').animate({ scrollLeft: scrollPosition }, 600)
          }
        })
      </script>
 </section>
<script>
    const body = document.querySelector("body"),
      modeToggle = body.querySelector(".mode-toggle");
      sidebar = body.querySelector("nav");
      sidebarToggle = body.querySelector(".sidebar-toggle");

let getMode = localStorage.getItem("mode");
if(getMode && getMode ==="dark"){
    body.classList.toggle("dark");
}

let getStatus = localStorage.getItem("status");
if(getStatus && getStatus ==="close"){
    sidebar.classList.toggle("close");
}

// modeToggle.addEventListener("click", () =>{
//     body.classList.toggle("dark");
//     if(body.classList.contains("dark")){
//         localStorage.setItem("mode", "dark");
//     }else{
//         localStorage.setItem("mode", "light");
//     }
// });

sidebarToggle.addEventListener("click", () => {
    sidebar.classList.toggle("close");
    if(sidebar.classList.contains("close")){
        localStorage.setItem("status", "close");
    }else{
        localStorage.setItem("status", "open");
    }
})
</script>
{% endblock %}